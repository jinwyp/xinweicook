<!DOCTYPE html>
<html class="order-address-html">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, maximum-scale=1,user-scalable=no">
    <link rel="stylesheet" href="/components/normalize.css/normalize.css"/>
    <link rel="stylesheet" href="/components/bootstrap/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/mobile/src/css/main.css"/>
    <title>新味 / 地址</title>
    <script>var _hmt=_hmt||[];(function(){var hm=document.createElement("script");hm.src="//hm.baidu.com/hm.js?bd3701195d6b839a7858b504dea63bb5";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();</script>
</head>
<body class="white-body" ng-app="xw" ng-controller="orderAddressCtrl" ng-click="saveAndLeave()">

<shopping-progress-bar></shopping-progress-bar>

<div class="order-address-main" ng-cloak>
    <ul class="address-list">
        <li ng-repeat="addr in address"
            ng-class="{cur: css.cur == $index}"
            ng-click="choose($index, $event)">
            <span class="deliverable-tag" ng-if="addr.isInRange">便当可送达</span>
            <div>{{addr.contactPerson}}</div>
            <div class="cur-show">{{addr.mobile | beautifyMobile}}</div>
            <div class="cur-show">{{addr.province + ' ' + addr.city + ' ' + addr.district}}</div>
            <div class="cur-show">{{addr.street}}</div>
            <div>{{addr.address}}</div>

            <form ng-if="css.edit == $index" name="form">
                <div ng-class="{'with-tag': addr.isInRange}">
                    <input name="contactPerson" type="text" placeholder="收货人"
                           ng-model="addr.contactPerson"
                           minlength="2" required/>
                    <span class="err-tip" ng-if="form.contactPerson.$error.required">必填</span>
                    <span class="err-tip" ng-if="form.contactPerson.$error.minlength">联系人姓名至少2个字</span>
                </div>
                <div>
                    <input name="mobile" type="tel" placeholder="手机号"
                           ng-model="addr.mobile"
                           minlength="11" maxlength="11" required/>
                    <span class="err-tip" ng-if="form.mobile.$error.required">必填</span>
                    <span class="err-tip"
                          ng-if="form.mobile.$error.maxlength || form.mobile.$error.minlength">手机号码长度为11位</span>
                </div>
                <div>
                    <input name="" type="text" placeholder="省、市、区"/><span></span>
                </div>
                <div>中山南二路 510 号</div>
                <div>
                    <input name="address" type="text" placeholder="楼层、门牌号" ng-model="addr.address"><span></span>
                </div>
            </form>
        </li>

        <li class="new">
            <div>新增收货人</div>
            <div>手机号</div>
            <div>省、市、区</div>
            <div>街道</div>
            <div>楼层、门牌号</div>
        </li>
    </ul>
</div>

<footer ng-cloak class="cart-bar2 row">
    <span class="back-to-menu">返回菜单</span>
    <span class="next">下一步</span>
</footer>

</body>

<script src="/components/angular/angular.min.js"></script>
<script src="/components/ngstorage/ngStorage.min.js"></script>

<script src="/mobile/src/js/modules.js"></script>
<script src="/mobile/src/js/models.js"></script>
<script src="/mobile/src/js/config.js"></script>
<script src="/mobile/src/js/filters.js"></script>
<script src="/mobile/src/js/directives/shopping-progress-bar.js"></script>
<script src="/mobile/src/js/templates.js"></script>
<script src="/mobile/src/js/service/scope-decorator.js"></script>
<script src="/mobile/src/js/service/map.js"></script>
<script src="/mobile/src/js/service/debug.js"></script>
<script src="/mobile/src/js/controllers/order-address.js"></script>
</html>